
<!DOCTAPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Rekoleft2020</title><!--网站标题-->
        <link rel="shortcut icon" href="photo/title.jpg" type="image/x-icon"><!--网站图标-->
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css"><!--font-awesome图标-->
        <style tape="text-css">
#canvascontainer{
display:flex;
justify-content: center;
}
.dc0{
position:absolute;
border:5px solid #FF0000;
box-sizing:border-box;
width:49.5%;height:49%;
background-size:100% 100%;
transition:width 0.5s,height 0.5s;
background-image:url(https://s1.imagehub.cc/images/2023/03/05/e111583e551c91b8bbbe5f142fb941b4.jpeg);
color:#ff0000;font-size:90px;font-weight:bold;font-family:Simsun,Georgia, serif;
display: flex;
justify-content: center;
align-items: center;
}
.dc1{/* sd photo/button_skin_download.png */
top:0;left:0;
/*background-image:url(https://s1.imagehub.cc/images/2022/12/22/0fc292183d262905e6d9756e2c91ee76.png);*/
}
.dc2{/* ad photo/button_addon_download.png */
top:0;right:0;
/*background-image:url(https://s1.imagehub.cc/images/2022/12/22/8f9d0e2ccf00b65de790f3511a039c3a.png);*/
}
.dc3{/* hty photo/button_history.png */
bottom:0;left:0;
/*background-image:url(https://s1.imagehub.cc/images/2022/12/22/422d8605101bcfc2aa31df27439954f8.png);*/
}
.dc4{/* talk photo/button_talk.png */
bottom:0;right:0;
/*background-image:url(https://s1.imagehub.cc/images/2022/12/22/28bd1c8e3453c80ea0bee1a7eaa211cc.png);*/
}
.dc0:hover{
width:50%;
height:50%;
z-index:2;
}
@media only screen and (max-width: 768px) {
  /* 针对手机： */
  .dc0 {
    font-size: 32px;
  }
}
        </style>
    </head>
    <body id="body01">
        <div class="dt" style=""><!--顶上长栏-->
            <div style="padding:5px"><!--img src="photo/tdtx.svg" height="60px"--><span class="tdtx" style="">REKOLEFT</span>
            </div>
            <div class="dttb"></div>
        </div>
        <div class="dbom">
            <div class="dbo1">
                <div style="text-align:center;">
                    <p>–==≡≡≡≡<span class="star">☭</span>≡≡≡≡==–</p>
                    <p><span class="" style="font-size:40px;font-weight:bold;">战无不胜的开源文化万岁</span></p>
                    <!--p><a style="color:#990000;text-decoration:underline;" href="liaojie.html">点击这里了解什么是“红狼”</a></p--> 
                    <!--img src="photo/2.png" width="920" alt="图片"--> <!--img src="https://img.picui.cn/free/2024/07/16/66968b3c3ca24.png" width="100%" alt="图片"-->
                    <div id="canvascontainer"></div>
                </div>
            </div> <br>
            <div class="dbo1" style="position:relative;padding-top:57%;"><div style="position:absolute;top:6;left:6;right:6;bottom:6;">
                <a href="https://redwolf501.github.io/sd"><div class="dc0 dc1" style="">工具下载</div></a><a href="https://redwolf501.github.io/ad"><div class="dc0 dc2">资源下载</div></a>
                <a href="https://redwolf501.github.io/hty"><div class="dc0 dc3">历史征程</div></a><a href="http://redwolf.rf.gd/" onclick="//alert('暂未开放')"><div class="dc0 dc4">内线交流</div></a>
                <!--div style="max-height:520px;height:520px"></div-->
            </div></div> <br>
            <div class="dbo1" style="height:500px">
            </div> <br>
            
        </div>
        
        <div id="tool" class="tool"><!-- 工具栏 -->
            <div class="tool1 showtool"><div class="sp1 ticon"><i class="fa fa-angle-down"></i></div></div>
            <div class="tool1 tool2"><a class="ticon" onclick="totop()">#</a></div>
            <div class="tool1 tool2"><a class="ticon" href="https://redwolf501.github.io/"><i class="fa fa-home"></i></a></div>
            <div class="tool1 tool2"><a class="ticon" onclick="showset()"><i class="fa fa-cog"></i></a></div>
        </div>
        
        <div id="set">
            <div style="text-align:center;">设置<div class="hs"><a onclick="hideset()"><i class="fa fa-times"></i></a></div></div>
            <hr style="height:1px;border:none;border-top:1px solid #ccc;"/>
            <div class="sesw">开关示例<label class="switch"><input id="seta" type="checkbox" onclick="seta()"><div class="slider round"></div></label></div>
            <p>暂无设置项</p>
        </div>
        
        <script src="main.js" ></script>
        
        <!--
        注释：图片链接“成就:大海航行靠舵手” https://www.bing.com/images/blob?bcid=S4WFWtZWydYErA “成就:东方红巴黎” https://www.bing.com/images/blob?bcid=S7cetHJwRdYEfg
        -->
        <script src="https://unpkg.com/konva@9/konva.min.js"></script>
        <script>
// first we need to create a stage
var stage = new Konva.Stage({
  container: 'canvascontainer',   // id of container <div>
  width: 700*0.3,
  height: 900*0.3
});

// then create layer
var layer = new Konva.Layer();

// create our shape
var circle = new Konva.Circle({
  x: stage.width() / 2,
  y: stage.height() / 2,
  radius: 70,
  fill: '/photo/lee_eye.png',
  strokeWidth: 0
});

var imgs={urlbase:"//redwolf501.github.io"};
imgs.lee_photo_ne=new Image();
imgs.lee_photo_ne.src=imgs.urlbase+"/photo/lee_photo_ne.png";
imgs.lee_eye=new Image();
imgs.lee_eye.src=imgs.urlbase+"/photo/lee_eye.png";
// add the shape to the layer

!(function(){
    let loadnum=0;
    f=function(){
        loadnum++;
        if(loadnum===2){
            let scalebase=0.3;
            let img1 = new Konva.Image({
              x: 0,
              y: 0,
              image: imgs.lee_photo_ne,
              width: 700*scalebase,
              height: 900*scalebase
            });
            let img2 = new Konva.Image({
              x: (700*0.5-120)*scalebase,
              y: (900*0.5-5)*scalebase,
              image: imgs.lee_eye,
              width: 29*scalebase,
              height: 30*scalebase
            });
            layer.add(img1);
            layer.add(img2);
            Cjr.load(img2)
            layer.draw();
        }
    };
    imgs.lee_photo_ne.addEventListener("load",f,true);
    imgs.lee_eye.addEventListener("load",f,true);
})();


// add the layer to the stage
stage.add(layer);
// draw the image
layer.draw();


var Vector={
    add(v1,v2){
        return {x:v1.x+v2.x,y:v1.y+v2.y};
    },
    sub(v1,v2){
        return {x:v1.x-v2.x,y:v1.y-v2.y};
    },
    mult(v,n){
        return {x:v.x*n,y:v.y*n};
    },
    magnitude(v){
        return (v.x**2+v.y**2)**0.5;
    }
};

var Cjr={
    position:{x:0,y:0},
    rollposition:{x:0,y:0},
    mouseposition:{x:0,y:0},
    radius:30,
    scalebase:0.3,
    img:undefined,
    el:document.querySelector("#canvascontainer canvas"),
    tid:-1,
    load(img){
        this.img=img;
        this.position=this.img.absolutePosition();
        this.radius=this.radius*this.scalebase;
        
        document.addEventListener('mousemove',Cjr.touch.bind(Cjr),true);
        document.addEventListener('click',Cjr.touch.bind(Cjr),true);
        this.load=function(){};
    },
    render(){
      this.img.absolutePosition({x:this.position.x+this.rollposition.x,y:this.position.y+this.rollposition.y});
    },
    evposition(event){
        let coffset={x:this.el.offsetLeft,y:this.el.offsetTop};
        if(event.offsetX){
            return Vector.sub({x:event.offsetX,y:event.offsetY},coffset);
        }else if(event.pageX){
            return Vector.sub({x:event.pageX,y:event.pageY},coffset);
        }else{
            console.error("浏览器兼容性过低");
        }
    },
    touch(touchposition,start,id){
      let tmove=Vector.sub(this.evposition(touchposition),this.position)
      let distance=Vector.magnitude(tmove)
      
      if(true){
        this.touchposition=touchposition;
        if(distance<=this.radius){
          this.rollposition=tmove
        }else{
          this.rollposition=Vector.mult(tmove,this.radius/distance)
        }
      }
      this.render();
    },
    end(event){
        let endpoint=clickui({x: event.position.x, y: event.position.y});
        if(endpoint.x===Cjr.touchposition.x && endpoint.y===Cjr.touchposition.y){
            Cjr.cancel();
        }
    },
    cancel(){
        Cjr.istouch=false;
        Cjr.rollposition=Vector.create();
        Cjr.tid=-1;
    }
};
        </script>
        
        
        
    </body>
</html>